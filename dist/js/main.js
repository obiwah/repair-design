$(function(){let e=$(".modal"),a=$("[data-toggle=modal]"),s=$(".modal__close"),n=$(".scroll-up");function t(){e.removeClass("animated faster fadeIn").addClass("animated faster fadeOut").removeClass("modal--visible")}a.on("click",function(){e.removeClass("animated faster fadeOut").addClass("animated faster fadeIn").addClass("modal--visible"),e.on("click",e=>{e.target.classList.contains("modal")&&t()}),$(document).on("keydown",e=>{"Escape"===e.key&&t()})}),s.on("click",t),$(document).on("scroll",e=>{e.originalEvent.target.defaultView.scrollY>450?n.removeClass("animated fadeOutRight").addClass("animated fadeInRight").removeClass("scroll--invisible"):n.removeClass("animated fadeInRight").addClass("animated fadeOutRight").addClass("scroll--invisible")});new Swiper(".projects .swiper-container",{loop:!0,navigation:{nextEl:".projects .swiper-button-next",prevEl:".projects .swiper-button-prev"},pagination:{el:".projects .swiper-pagination",type:"bullets"}});new WOW({mobile:!1}).init(),a.each((e,a)=>{$(a).on("hover",()=>{$(a).addClass("animated pulse")},()=>{$(a).removeClass("animated pulse")})}),$(".form").each(function(e,a){$(a).validate({rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:"required",userEmail:{required:!0,email:!0}},messages:{userName:{required:"Заполните поле",minlength:"Имя не короче 2 букв",maxlength:"Имя не длиннее 2 букв"},userPhone:"Заполните поле",userEmail:{required:"Заполните поле",email:"Email должен быть в формате name@domain.com"}},errorClass:"invalid",errorElement:"div",submitHandler:function(e){$.ajax({type:"post",url:"send.php",data:$(e).serialize(),success:function(a){e.reset(),alert("Форма отправлена, мы свяжемся с вами через 10 минут"),$(e).hasClass("modal__form")&&t()},error:function(e,a,s){console.error(`jqXHR: ${e}, textStatus: ${a}, errorThrown: ${s}`)}})}})}),$('[type="tel"]').mask("+7 (000) 000-00-00",{placeholder:"+7 (___) ___-__-__"}),ymaps.ready(function(){let e=new ymaps.Map("yandex-map",{center:[47.244734,39.723227],zoom:17}),a=new ymaps.Placemark([47.244734,39.723227],{},{iconImageHref:"img/icons/locator.png",iconImageSize:[32,32]});e.geoObjects.add(a)})});