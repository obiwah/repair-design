$(function(){let e=$(".modal"),a=$("[data-toggle=modal]"),n=$(".modal__close");$(".scroll-up");function o(){e.removeClass("animated faster fadeIn").addClass("animated faster fadeOut").removeClass("modal--visible")}a.on("click",function(){e.removeClass("animated faster fadeOut").addClass("animated faster fadeIn").addClass("modal--visible"),e.on("click",e=>{e.target.classList.contains("modal")&&o()}),$(document).on("keydown",e=>{"Escape"===e.key&&o()})}),n.on("click",o);new Swiper(".projects .swiper-container",{spaceBetween:1,loop:!0,navigation:{nextEl:".projects .swiper-button-next",prevEl:".projects .swiper-button-prev"},pagination:{el:".projects .swiper-pagination",type:"bullets"}});function t(e){e.target.setVolume(10),e.target.playVideo()}new WOW({mobile:!1}).init(),a.each((e,a)=>{$(a).on("hover",()=>{$(a).addClass("animated pulse")},()=>{$(a).removeClass("animated pulse")})}),$(".form").each(function(e,a){$(a).validate({rules:{userName:{required:!0,minlength:2,maxlength:15},userPhone:"required",userEmail:{required:!0,email:!0}},messages:{userName:{required:"Заполните поле",minlength:"Имя не короче 2 букв",maxlength:"Имя не длиннее 2 букв"},userPhone:"Заполните поле",userEmail:{required:"Заполните поле",email:"Email должен быть в формате name@domain.com"}},errorClass:"invalid",errorElement:"div",submitHandler:function(e){$.ajax({type:"post",url:"send.php",data:$(e).serialize(),success:function(a){e.reset(),alert("Форма отправлена, мы свяжемся с вами через 10 минут"),$(e).hasClass("modal__form")&&o()},error:function(e,a,n){console.error(`jqXHR: ${e}, textStatus: ${a}, errorThrown: ${n}`)}})}})}),$(".control__play").on("click",function(){new YT.Player("player",{width:"100%",videoId:"eyNNuaqvT7I",playerVars:{color:"white",iv_load_policy:3,rel:0,showinfo:0,start:179},events:{onReady:t}})}),$('[type="tel"]').mask("+7 (000) 000-00-00",{}),ymaps.ready(function(){let e=new ymaps.Map("yandex-map",{center:[47.244734,39.723227],zoom:17}),a=new ymaps.Placemark([47.244734,39.723227],{},{iconImageHref:"img/icons/locator.png",iconImageSize:[32,32]});e.geoObjects.add(a)})});